<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MY CRM - User Dashboard</title>

  <!-- CSS -->
  <link rel="stylesheet" href="./css/style.css">
  <link rel="stylesheet" href="./css/trackerpage.css">
</head>
<body>

<div class="app-layout" id="appLayout">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <button id="menu-toggle" class="hamburger" title="Expand menu">â˜°</button>
      <h2 class="logo">USER</h2>
    </div>

    <button class="nav-btn active" data-target="dashboard">Dashboard</button>
    <button class="nav-btn" data-target="trackers">Trackers</button>
    <button class="nav-btn" data-target="achievements">Achievements</button>
    <button class="nav-btn" data-target="appointments">Appointments</button>
    <button class="nav-btn" data-target="metrics">Metrics</button>
    <button class="nav-btn" data-target="history">History</button>
    <button class="nav-btn" data-target="practice">Practice</button>

    <div class="sidebar-footer">
      <button id="logoutBtn" class="btn-logout" title="Log out">
        <svg class="logout-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M7.707,8.707,5.414,11H17a1,1,0,0,1,0,2H5.414l2.293,2.293a1,1,0,1,1-1.414,1.414l-4-4a1,1,0,0,1,0-1.414l4-4A1,1,0,1,1,7.707,8.707ZM21,1H13a1,1,0,0,0,0,2h7V21H13a1,1,0,0,0,0,2h8a1,1,0,0,0,1-1V2A1,1,0,0,0,21,1Z"></path>
        </svg>
      </button>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="main-content">
  
    <header>X</header>

    <section class="page" data-page="dashboard">
      <h1>Dashboard</h1>
    </section>

    <!-- TRACKERS SECTION -->
    <section class="page" data-page="trackers">
      <h1>Trackers</h1>
      <div id="trackerList"></div>
      <div id="trackerSheetContainer"></div>
    </section>

    <section class="page" data-page="achievements">
      <h1>Achievements</h1>
    </section>


    <!-- HISTORY SECTION -->
    <section class="page" data-page="history">
      <h1>History</h1>
      <div id="historyList"></div>
    </section>

  </main>
</div>

<!-- SCRIPT: Only import user.js as module (it imports socket.js internally) -->
<script type="module">
  import { initUser } from './js/user.js';

  document.addEventListener('DOMContentLoaded', () => {
      // Replace "JohnDoe" with dynamic user ID if available
      initUser("JohnDoe");
  });
</script>

</body>
</html>
